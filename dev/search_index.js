var documenterSearchIndex = {"docs":
[{"location":"detail/#Docstrings","page":"Docstrings","title":"Docstrings","text":"","category":"section"},{"location":"detail/#All-docstrings","page":"Docstrings","title":"All docstrings","text":"","category":"section"},{"location":"future/#Future-work","page":"Future work","title":"Future work","text":"","category":"section"},{"location":"future/","page":"Future work","title":"Future work","text":"Add support for NURBS\nThis may be in other Julia package.\nAdd example for IGA\n...","category":"page"},{"location":"contributing/#Contributing","page":"Contributing","title":"Contributing","text":"","category":"section"},{"location":"contributing/","page":"Contributing","title":"Contributing","text":"The main contributer Hyrodium is not native English speaker. So, English corrections would be really helpful. Of course, other code improvement are welcomed!","category":"page"},{"location":"contributing/","page":"Contributing","title":"Contributing","text":"Feel free to open issues and pull requests!","category":"page"},{"location":"basicbsplineexporter/#BasicBSplineExporter","page":"BasicBSplineExporter.jl","title":"BasicBSplineExporter","text":"","category":"section"},{"location":"basicbsplineexporter/","page":"BasicBSplineExporter.jl","title":"BasicBSplineExporter.jl","text":"BasicBSplineExporter.jl supports export BasicBSpline.BSplineManifold and BasicBSpline.CustomBSplineManifold{Dim,Deg,<:StaticVector} to:","category":"page"},{"location":"basicbsplineexporter/","page":"BasicBSplineExporter.jl","title":"BasicBSplineExporter.jl","text":"PNG image (.png)\nSVG image (.png)\nPOV-Ray mesh (.inc)","category":"page"},{"location":"basicbsplineexporter/#Installation","page":"BasicBSplineExporter.jl","title":"Installation","text":"","category":"section"},{"location":"basicbsplineexporter/","page":"BasicBSplineExporter.jl","title":"BasicBSplineExporter.jl","text":"] add https://github.com/hyrodium/BasicBSplineExporter.jl","category":"page"},{"location":"basicbsplineexporter/#First-example","page":"BasicBSplineExporter.jl","title":"First example","text":"","category":"section"},{"location":"basicbsplineexporter/","page":"BasicBSplineExporter.jl","title":"BasicBSplineExporter.jl","text":"using BasicBSpline\nusing BasicBSplineExporter\nusing StaticArrays\n\np = 2 # degree of polynomial\nk1 = KnotVector(1:8)     # knot vector\nk2 = KnotVector(rand(7))+(p+1)*KnotVector(1)\nP1 = BSplineSpace{p}(k1) # B-spline space\nP2 = BSplineSpace{p}(k2)\nn1 = dim(P1) # dimension of B-spline space\nn2 = dim(P2)\na = [SVector(2i-6.5+rand(),1.5j-6.5+rand()) for i in 1:dim(P1), j in 1:dim(P2)] # random generated control points\nM = CustomBSplineManifold(a,(P1,P2)) # Define B-spline manifold\nsave_png(\"2dim.png\", M) # save image","category":"page"},{"location":"basicbsplineexporter/","page":"BasicBSplineExporter.jl","title":"BasicBSplineExporter.jl","text":"(Image: )","category":"page"},{"location":"basicbsplineexporter/#Other-examples","page":"BasicBSplineExporter.jl","title":"Other examples","text":"","category":"section"},{"location":"basicbsplineexporter/","page":"BasicBSplineExporter.jl","title":"BasicBSplineExporter.jl","text":"Here are some images rendared with POV-Ray.","category":"page"},{"location":"basicbsplineexporter/","page":"BasicBSplineExporter.jl","title":"BasicBSplineExporter.jl","text":"(Image: ) (Image: ) (Image: )","category":"page"},{"location":"basicbsplineexporter/","page":"BasicBSplineExporter.jl","title":"BasicBSplineExporter.jl","text":"See BasicBSplineExporter.jl/test for more examples.","category":"page"},{"location":"math/#Mathematical-properties-of-B-spline","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"","category":"section"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"using BasicBSpline\nusing Plots","category":"page"},{"location":"math/#Introduction","page":"Mathematical properties of B-spline","title":"Introduction","text":"","category":"section"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"B-spline is a mathematical object, and it has a lot of application. (e.g. NURBS, IGA)","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"In this page, we'll explain the mathematical definition and property of B-spline with Julia code. Before running the following code, you need to import the package:","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"using BasicBSpline","category":"page"},{"location":"math/#Notice","page":"Mathematical properties of B-spline","title":"Notice","text":"","category":"section"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"A book \"Geometric Modeling with Splines\" by Elaine Cohen, Richard F. Riesenfeld, Gershon Elber is really recommended.\nSome of notations in this page are our original, but these are well-considered results.","category":"page"},{"location":"math/#Knot-vector","page":"Mathematical properties of B-spline","title":"Knot vector","text":"","category":"section"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"tip: Def.  Knot vector\nA finite sequencek = (k_1 dots k_l)is called knot vector if the sequence is broad monotonic increase, i.e. k_i le k_i+1.","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"[TODO: fig]","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"KnotVector","category":"page"},{"location":"math/#BasicBSpline.KnotVector","page":"Mathematical properties of B-spline","title":"BasicBSpline.KnotVector","text":"Construct knot vector from given array.\n\nk=(k_1dotsk_l)\n\nExamples\n\njulia> k = KnotVector([1,2,3])\nKnotVector([1.0, 2.0, 3.0])\n\njulia> k = KnotVector(1:3)\nKnotVector([1.0, 2.0, 3.0])\n\n\n\n\n\n","category":"type"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"KnotVector(knot::Real)","category":"page"},{"location":"math/#BasicBSpline.KnotVector-Tuple{Real}","page":"Mathematical properties of B-spline","title":"BasicBSpline.KnotVector","text":"Construct knot vector from given real numbers.\n\nExamples\n\njulia> k = KnotVector(1,2,3)\nKnotVector([1.0, 2.0, 3.0])\n\njulia> k = KnotVector()\nKnotVector([])\n\n\n\n\n\n","category":"method"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"length(k::KnotVector)","category":"page"},{"location":"math/#Base.length-Tuple{KnotVector}","page":"Mathematical properties of B-spline","title":"Base.length","text":"Length of knot vector\n\nExamples\n\njulia> k = KnotVector(1,2,3,5);\n\njulia> length(k)\n4\n\n\n\n\n\n","category":"method"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"Although a knot vector is not a vector in linear algebra, but we introduce additional operator +.","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"Base.:+(k1::KnotVector{T}, k2::KnotVector{T}) where T","category":"page"},{"location":"math/#Base.:+-Union{Tuple{T}, Tuple{KnotVector{T}, KnotVector{T}}} where T","page":"Mathematical properties of B-spline","title":"Base.:+","text":"Sum of knot vectors\n\nbeginaligned\nk^(1)+k^(2)\n=(k^(1)_1 dots k^(1)_l^(1)) + (k^(2)_1 dots k^(2)_l^(2)) \n=(textsort of union of   k^(1)  textand   k^(2) text)\nendaligned\n\nFor example, (1235)+(458)=(1234558).\n\nExamples\n\njulia> k1 = KnotVector(1,2,3,5);\n\njulia> k2 = KnotVector(4,5,8);\n\njulia> k1 + k2\nKnotVector([1.0, 2.0, 3.0, 4.0, 5.0, 5.0, 8.0])\n\n\n\n\n\n","category":"method"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"And product operator cdot.","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"*(m::Integer, k::AbstractKnotVector)","category":"page"},{"location":"math/#Base.:*-Tuple{Integer, AbstractKnotVector}","page":"Mathematical properties of B-spline","title":"Base.:*","text":"Product of integer and knot vector\n\nbeginaligned\nmcdot k=underbracek+cdots+k_m\nendaligned\n\nFor example, 2cdot (1225)=(11222255).\n\nExamples\n\njulia> k = KnotVector(1,2,2,5);\n\njulia> 2 * k\nKnotVector([1.0, 1.0, 2.0, 2.0, 2.0, 2.0, 5.0, 5.0])\n\n\n\n\n\n","category":"method"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"unique(k::KnotVector)","category":"page"},{"location":"math/#Base.unique-Tuple{KnotVector}","page":"Mathematical properties of B-spline","title":"Base.unique","text":"Unique elements of knot vector.\n\nbeginaligned\nwidehatk\n=(textunique knot elements of   k) \nendaligned\n\nFor example, widehat(1223)=(123).\n\nExamples\n\njulia> k = KnotVector([1,2,2,3]);\n\njulia> unique(k)\nKnotVector([1.0, 2.0, 3.0])\n\n\n\n\n\n","category":"method"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"ð”«(k::KnotVector, t::Real)","category":"page"},{"location":"math/#BasicBSpline.ð”«-Tuple{KnotVector, Real}","page":"Mathematical properties of B-spline","title":"BasicBSpline.ð”«","text":"For given knot vector k, the following function mathfrakn_kmathbbRtomathbbZ represents the number of knots that duplicate the knot vector k.\n\nmathfrakn_k(t) = sharpi mid k_i=t \n\nFor example, if k=(1223), then mathfrakn_k(03)=0, mathfrakn_k(1)=1, mathfrakn_k(2)=2.\n\njulia> k = KnotVector([1,2,2,3]);\n\njulia> ð”«(k,0.3)\n0\n\njulia> ð”«(k,1.0)\n1\n\njulia> ð”«(k,2.0)\n2\n\n\n\n\n\n","category":"method"},{"location":"math/#B-spline-space","page":"Mathematical properties of B-spline","title":"B-spline space","text":"","category":"section"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"Before defining B-spline space, we'll define polynomial space with degree p.","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"tip: Def.  Polynomial space\nPolynomial space with degree p.mathcalPp\n=leftfmathbbRtomathbbR  tmapsto a_0+a_1t^1+cdots+a_pt^p   left  \n    a_iin mathbbR\n    right\nrightThis space mathcalPp is a (p+1)-dimensional linear space.","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"Note that tmapsto t^i_0 le i le p is a basis of mathcalPp, and also the set of Bernstein polynomial B_(ip)_i is a basis of mathcalPp.","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"beginaligned\nB_(ip)(t)\n=binompi-1t^i-1(1-t)^p-i+1\n(i=1 dots p+1)\nendaligned","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"Where binompi-1 is a binomial coefficient.","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"tip: Def.  B-spline space\nFor given polynomial degree pge 0 and knot vector k=(k_1dotsk_l), B-spline space mathcalPpk is defined as follows:mathcalPpk\n=leftfmathbbRtomathbbR   left  \n    begingathered\n        operatornamesupp(f)subseteq k_1 k_l \n        exists tildefinmathcalPp f_k_i k_i+1) = tildef_k_i k_i+1)  \n        forall t in mathbbR exists delta  0 f_(t-deltat+delta)in C^p-mathfrakn_k(t)\n    endgathered right\nright","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"Note that each element of the space mathcalPpk is a piecewise polynomial.","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"[TODO: fig]","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"p = 2\nk = KnotVector([1,3,5,6,8,9])\nBSplineSpace{p}(k)","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"A B-spline space is said to be proper if its degree and knotvector satisfies following property:","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"beginaligned\nk_ik_i+p+1  (1 le i le l-p-1)\nendaligned","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"isproper","category":"page"},{"location":"math/#BasicBSpline.isproper","page":"Mathematical properties of B-spline","title":"BasicBSpline.isproper","text":"Check if given B-spline space is proper.\n\nExamples\n\njulia> isproper(BSplineSpace{2}(KnotVector([1,3,5,6,8,9])))\ntrue\n\njulia> isproper(BSplineSpace{1}(KnotVector([1,3,3,3,8,9])))\nfalse\n\n\n\n\n\n","category":"function"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"The B-spline space is a linear space, and if a B-spline space is proper, its dimension is calculated by:","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"dim(mathcalPpk)=sharp k - p -1","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"dim(BSplineSpace{2}(KnotVector([1,3,5,6,8,9])))","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"dim","category":"page"},{"location":"math/#BasicBSpline.dim","page":"Mathematical properties of B-spline","title":"BasicBSpline.dim","text":"Return dimention of a B-spline space.\n\ndim(mathcalPpk)\n=sharp k - p -1\n\n\n\n\n\n","category":"function"},{"location":"math/#B-spline-basis-function","page":"Mathematical properties of B-spline","title":"B-spline basis function","text":"","category":"section"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"tip: Def.  B-spline space\nB-spline basis function is defined by Coxâ€“de Boor recursion formula.beginaligned\nB_(ipk)(t)\n=\nfract-k_ik_i+p-k_iB_(ip-1k)(t)\n+frack_i+p+1-tk_i+p+1-k_i+1B_(i+1p-1k)(t) \nB_(i0k)(t)\n=\nbegincases\n    1quad (k_ile t k_i+1)\n    0quad (textotherwise)\nendcases\nendalignedIf the denominator is zero, then the term is assumed to be zero.","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"info: Thm.  Basis of B-spline space\nThe set of functions B_(ipk)_i is a basis of B-spline space mathcalPpk.","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"using Plots\np = 2\nk = KnotVector(1:8)\nP = BSplineSpace{p}(k)\nplot([t->bsplinebasisâ‚Šâ‚€(P,i,t) for i in 1:dim(P)], 1, 8, ylims=(0,1))","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"(Image: )","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"You can choose the first terms in different ways.","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"beginaligned\nB_(i0k)(t)\n=\nbegincases\n    1quad (k_i  t le k_i+1) \n    0quad (textotherwise)\nendcases\nendaligned","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"using Plots\np = 2\nk = KnotVector(1:8)\nP = BSplineSpace{p}(k)\nplot([t->bsplinebasisâ‚‹â‚€(P,i,t) for i in 1:dim(P)], 1, 8, ylims=(0,1))","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"(Image: )","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"In these cases, each B-spline basis function B_(i2k) is coninuous, so bsplinebasisâ‚Šâ‚€ and bsplinebasisâ‚‹â‚€ are equal.","category":"page"},{"location":"math/#Support-of-B-spline-basis-function","page":"Mathematical properties of B-spline","title":"Support of B-spline basis function","text":"","category":"section"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"info: Thm.  Support of B-spline basis function\nIf a B-spline spacemathcalPpk is proper, the support of its basis function is calculated as follows:operatornamesupp(B_(ipk))=k_ik_i+p+1","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"[TODO: fig]","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"i = 2\nk = KnotVector([5,12,13,13,14])\np = 2\nP = BSplineSpace{p}(k)\nbsplinesupport(P) # [5..13, 12..14]\nbsplinesupport(P,i) # 12..14","category":"page"},{"location":"math/#Derivative-of-B-spline-basis-function","page":"Mathematical properties of B-spline","title":"Derivative of B-spline basis function","text":"","category":"section"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"info: Thm.  Derivative of B-spline basis function\nThe derivative of B-spline basis function can be expressed as follows:beginaligned\ndotB_(ipk)(t)\n=fracddtB_(ipk)(t) \n=pleft(frac1k_i+p-k_iB_(ip-1k)(t)-frac1k_i+p+1-k_i+1B_(i+1p-1k)(t)right)\nendalignedNote that dotB_(ipk)inmathcalPp-1k.","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"using Plots\np = 2\nk = KnotVector(1:8)\nP = BSplineSpace{p}(k)\nplot([t->bsplinebasisâ€²â‚Šâ‚€(P,i,t) for i in 1:dim(P)], 1, 8, ylims=(0,1))","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"(Image: )","category":"page"},{"location":"math/#Partition-of-unity","page":"Mathematical properties of B-spline","title":"Partition of unity","text":"","category":"section"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"info: Thm.  Partition of unity\nbeginaligned\nsum_iB_(ipk)(t) = 1  (k_p+1 le t  k_l-p) \n0 le B_(ipk)(t) le 1\nendaligned","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"using Plots\np = 2\nk = KnotVector(1:8)\nP = BSplineSpace{p}(k)\nplot(t->sum(bsplinebasisâ‚Šâ‚€(P,i,t) for i in 1:dim(P)), 1, 8, ylims=(0,1))","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"(Image: )","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"To satisfy the partition of unity on whole interval 18, sometimes more knots will be inserted to the endpoints of the interval.","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"using Plots\np = 2\nk = KnotVector(1:8) + p * KnotVector([1,8])\nP = BSplineSpace{p}(k)\nplot(t->sum(bsplinebasisâ‚Šâ‚€(P,i,t) for i in 1:dim(P)), 1, 8, ylims=(0,1))","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"(Image: )","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"But, the sum sum_i B_(ipk)(t) is not equal to 1 if t=8. Therefore, to satisfy partition of unity on closed interval k_p+1 k_l-p, the definition of first terms of B-spline basis functions are sometimes replaced:","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"beginaligned\nB_(i0k)(t)\n=\nbegincases\n    1quad (k_i le tk_i+1)\n    1quad (k_i  t = k_i+1=k_l)\n    0quad (textotherwise)\nendcases\nendaligned","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"using Plots\np = 2\nk = KnotVector(1:8) + p * KnotVector([1,8])\nP = BSplineSpace{p}(k)\nplot(t->sum(bsplinebasis(P,i,t) for i in 1:dim(P)), 1, 8, ylims=(0,1))","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"(Image: )","category":"page"},{"location":"math/#Inclusive-relation-between-B-spline-spaces","page":"Mathematical properties of B-spline","title":"Inclusive relation between B-spline spaces","text":"","category":"section"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"info: Thm.  Support of B-spline basis function\nFor proper B-spline spaces, the following relationship holds.mathcalPpk\nsubseteq mathcalPpk\nLeftrightarrow (m=p-p ge 0  textand  k+mwidehatksubseteq k)","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"(as linear subspace..)","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"P1 = BSplineSpace{1}(KnotVector([1,3,5,8]))\nP2 = BSplineSpace{1}(KnotVector([1,3,5,6,8,9]))\nP3 = BSplineSpace{2}(KnotVector([1,1,3,3,5,5,8,8]))\nP1 âŠ† P2 # true\nP1 âŠ† P3 # true\nP2 âŠ† P3 # false\nP2 âŠˆ P3 # true","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"Here are plots of the B-spline basis functions of the spaces P1, P2, P3.","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"using Plots\nP1 = BSplineSpace{1}(KnotVector([1,3,5,8]))\nP2 = BSplineSpace{1}(KnotVector([1,3,5,6,8,9]))\nP3 = BSplineSpace{2}(KnotVector([1,1,3,3,5,5,8,8]))\nplot(\n    plot([t->bsplinebasisâ‚Šâ‚€(P1,i,t) for i in 1:dim(P1)], 1, 9, ylims=(0,1), legend=false),\n    plot([t->bsplinebasisâ‚Šâ‚€(P2,i,t) for i in 1:dim(P2)], 1, 9, ylims=(0,1), legend=false),\n    plot([t->bsplinebasisâ‚Šâ‚€(P3,i,t) for i in 1:dim(P3)], 1, 9, ylims=(0,1), legend=false),\n    layout=(3,1),\n    link=:x\n)","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"(Image: )","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"This means, there exists a n times n matrix A which holds:","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"beginaligned\nB_(ipk)\n=sum_jA_ij B_(jpk) \nn=dim(mathcalPpk) \nn=dim(mathcalPpk)\nendaligned","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"You can calculate the change of basis matrix A with changebasis.","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"A12 = changebasis(P1,P2)\nA13 = changebasis(P1,P3)","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"using Plots\nplot(\n    plot([t->bsplinebasisâ‚Šâ‚€(P1,i,t) for i in 1:dim(P1)], 1, 9, ylims=(0,1), legend=false),\n    plot([t->sum(A12[i,j]*bsplinebasisâ‚Šâ‚€(P2,j,t) for j in 1:dim(P2)) for i in 1:dim(P1)], 1, 9, ylims=(0,1), legend=false),\n    plot([t->sum(A13[i,j]*bsplinebasisâ‚Šâ‚€(P3,j,t) for j in 1:dim(P3)) for i in 1:dim(P1)], 1, 9, ylims=(0,1), legend=false),\n    layout=(3,1),\n    link=:x\n)","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"(Image: )","category":"page"},{"location":"math/#Multi-dimensional-B-spline","page":"Mathematical properties of B-spline","title":"Multi-dimensional B-spline","text":"","category":"section"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"tensor product","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"B_i^1dotsi^d(t^1dotst^d)\n=B_(i^1p^1k^1)(t^1)cdots B_(i^dp^dk^d)(t^d)","category":"page"},{"location":"math/#B-spline-manifold","page":"Mathematical properties of B-spline","title":"B-spline manifold","text":"","category":"section"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"B-spline manifold is a parametric representation of a shape.","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"tip: Def.  B-spline manifold\nFor given d-dimensional B-spline basis functions B_i^1dotsi^d and given points bma_i^1dotsi^d in mathbbR^hatd, B-spline manifold is defined by following equality:bmp(t^1dotst^dbma_i^1dotsi^d)\n=sum_i^1dotsi^dB_i^1dotsi^d(t^1dotst^d) bma_i^1dotsi^dWhere bma_i^1dotsi^d are called control points.","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"We will also write bmp(t^1dotst^d bma), bmp(t^1dotst^d), bmp(t bma) or bmp(t) for simplicity.","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"P1 = BSplineSpace{1}(KnotVector([0,0,1,1]))\nP2 = BSplineSpace{1}(KnotVector([1,1,2,3,3]))\nn1 = dim(P1) # 2\nn2 = dim(P2) # 3\na = [[i, j] for i in 1:n1, j in 1:n2]  # n1 Ã— n2 array of dÌ‚ array.\nM = BSplineManifold(a, (P1, P2))","category":"page"},{"location":"math/#B-spline-curve","page":"Mathematical properties of B-spline","title":"B-spline curve","text":"","category":"section"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"## 1-dim B-spline manifold\np = 2 # degree of polynomial\nk = KnotVector(1:12) # knot vector\nP = BSplineSpace{p}(k) # B-spline space\na = [[i-5, 3*sin(i^2)] for i in 1:dim(P)] # control points\nM = BSplineManifold(a, (P,)) # Define B-spline manifold\nsave_png(\"1dim.png\", M, unitlength = 50)","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"(Image: )","category":"page"},{"location":"math/#B-spline-surface","page":"Mathematical properties of B-spline","title":"B-spline surface","text":"","category":"section"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"p = 2 # degree of polynomial\nk = KnotVector(1:8) # knot vector\nP = BSplineSpace{p}(k) # B-spline space\nrand_a = [rand(2) for i in 1:dim(P), j in 1:dim(P)]\na = [[2*i-6.5,2*j-6.5] for i in 1:dim(P), j in 1:dim(P)] + rand_a # random generated control points\nM = BSplineManifold(a,(P,P)) # Define B-spline manifold\nsave_png(\"2dim.png\", M) # save image","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"(Image: )","category":"page"},{"location":"math/#Affine-commutativity","page":"Mathematical properties of B-spline","title":"Affine commutativity","text":"","category":"section"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"info: Thm.  Affine commutativity\nIf T is a affine transform mathbbR^dtomathbbR^d, then the following equality holds.T(bmp(t bma))\n=bmp(t T(bma))","category":"page"},{"location":"math/#Refinement","page":"Mathematical properties of B-spline","title":"Refinement","text":"","category":"section"},{"location":"math/#h-refinemnet","page":"Mathematical properties of B-spline","title":"h-refinemnet","text":"","category":"section"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"Insert additional knots to knot vector.","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"kâ‚Š=(KnotVector(3.3,4.2),KnotVector(3.8,3.2,5.3)) # additional knotvectors\nM_h = refinement(M,kâ‚Š=kâ‚Š) # refinement of B-spline manifold\nsave_png(\"2dim_h-refinement.png\", M_h) # save image","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"(Image: )","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"Note that this shape and the last shape are identical.","category":"page"},{"location":"math/#p-refinemnet","page":"Mathematical properties of B-spline","title":"p-refinemnet","text":"","category":"section"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"Increase the polynomial degree of B-spline manifold.","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"pâ‚Š=(1,2) # additional degrees\nM_p = refinement(M,pâ‚Š=pâ‚Š) # refinement of B-spline manifold\nsave_png(\"2dim_p-refinement.png\", M_p) # save image","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"(Image: )","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"Note that this shape and the last shape are identical.","category":"page"},{"location":"math/#Fitting","page":"Mathematical properties of B-spline","title":"Fitting","text":"","category":"section"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"Least squares method.","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"Try on Desmos graphing graphing calculator!","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"p1 = 2\np2 = 2\nk1 = KnotVector(-10:10)+p1*KnotVector(-10,10)\nk2 = KnotVector(-10:10)+p2*KnotVector(-10,10)\nP1 = BSplineSpace{p1}(k1)\nP2 = BSplineSpace{p2}(k2)\n\nf(u1, u2) = [2u1 + sin(u1) + cos(u2) + u2 / 2, 3u2 + sin(u2) + sin(u1) / 2 + u1^2 / 6] / 5\n\na0 = fittingcontrolpoints(f, (P1, P2))\na = [a0[i1,i2][j] for i1 in 1:dim(P1), i2 in 1:dim(P2), j in 1:2]\nM = BSplineManifold(a, (P1, P2))\nsave_png(\"fitting.png\", M, unitlength=50, xlims=(-10,10), ylims=(-10,10))","category":"page"},{"location":"math/","page":"Mathematical properties of B-spline","title":"Mathematical properties of B-spline","text":"(Image: ) (Image: )","category":"page"},{"location":"#BasicBSpline.jl","page":"Home","title":"BasicBSpline.jl","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Basic operations for B-spline functions and related things with julia","category":"page"},{"location":"","page":"Home","title":"Home","text":"(Image: Stable) (Image: Dev) (Image: Build Status) (Image: Coverage) (Image: DOI)","category":"page"},{"location":"","page":"Home","title":"Home","text":"(Image: )","category":"page"},{"location":"#Summary","page":"Home","title":"Summary","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"This package provides basic (mathematical) operations for B-spline.","category":"page"},{"location":"","page":"Home","title":"Home","text":"B-spline basis function\nSome operations for knot vector\nB-spline manifold (includes curve, surface and solid)\nRefinement for B-spline manifold\nFitting control points for B-spline manifold","category":"page"},{"location":"#Comparison-to-other-julia-packages-for-B-spline","page":"Home","title":"Comparison to other julia packages for B-spline","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Interpolations.jl\nCurrently this package's support is best for B-splines and also supports irregular grids.\nBut seems like no method for B-spline manifold.\nApproXD.jl\nIts functions are similar to Interpolations.jl.\nDierckx.jl\nWrapper for the dierckx Fortran library.\nOnly 1-d or 2-d B-spline manifold are supported.\n5 or less degree of polynomial are supported.\nBasicBSpline.jl (this package)\nAny degree of polynomial are supported.\nRefinement algorithm for B-spline manifold.\nFitting algorithm by least squares.","category":"page"},{"location":"#Installation","page":"Home","title":"Installation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Install this package","category":"page"},{"location":"","page":"Home","title":"Home","text":"] add BasicBSpline","category":"page"},{"location":"","page":"Home","title":"Home","text":"To export graphics, use BasicBSplineExporter.jl.","category":"page"},{"location":"","page":"Home","title":"Home","text":"] add https://github.com/hyrodium/BasicBSplineExporter.jl","category":"page"},{"location":"#Example","page":"Home","title":"Example","text":"","category":"section"},{"location":"#B-spline-function","page":"Home","title":"B-spline function","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"using BasicBSpline\nusing Plots\n\nk = KnotVector([0.00,1.50,2.50,5.50,8.00,9.00,9.50,10.0])\nP0 = BSplineSpace{0}(k) # 0th degree piecewise polynomial space\nP1 = BSplineSpace{1}(k) # 1st degree piecewise polynomial space\nP2 = BSplineSpace{2}(k) # 2nd degree piecewise polynomial space\nP3 = BSplineSpace{3}(k) # 3rd degree piecewise polynomial space\nplot(\n    plot([t->bsplinebasis(P0,i,t) for i in 1:dim(P0)], 0, 10, ylims=(0,1), legend=false),\n    plot([t->bsplinebasis(P1,i,t) for i in 1:dim(P1)], 0, 10, ylims=(0,1), legend=false),\n    plot([t->bsplinebasis(P2,i,t) for i in 1:dim(P2)], 0, 10, ylims=(0,1), legend=false),\n    plot([t->bsplinebasis(P3,i,t) for i in 1:dim(P3)], 0, 10, ylims=(0,1), legend=false),\n    layout=(2,2),\n)","category":"page"},{"location":"","page":"Home","title":"Home","text":"(Image: )","category":"page"},{"location":"","page":"Home","title":"Home","text":"Try interactive graph with Desmos graphing calculator!","category":"page"},{"location":"#B-spline-manifold","page":"Home","title":"B-spline manifold","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"using BasicBSpline\nusing BasicBSplineExporter\nusing StaticArrays\n\np = 2 # degree of polynomial\nk1 = KnotVector(1:8)     # knot vector\nk2 = KnotVector(rand(7))+(p+1)*KnotVector(1)\nP1 = BSplineSpace{p}(k1) # B-spline space\nP2 = BSplineSpace{p}(k2)\nn1 = dim(P1) # dimension of B-spline space\nn2 = dim(P2)\na = [SVector(2i-6.5+rand(),1.5j-6.5+rand()) for i in 1:dim(P1), j in 1:dim(P2)] # random generated control points\nM = CustomBSplineManifold(a,(P1,P2)) # Define B-spline manifold\nsave_png(\"2dim.png\", M) # save image","category":"page"},{"location":"","page":"Home","title":"Home","text":"(Image: )","category":"page"},{"location":"#Refinement","page":"Home","title":"Refinement","text":"","category":"section"},{"location":"#h-refinemnet","page":"Home","title":"h-refinemnet","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"kâ‚Š=(KnotVector(3.3,4.2),KnotVector(0.3,0.5)) # additional knotvectors\nM_h = refinement(M,kâ‚Š=kâ‚Š) # refinement of B-spline manifold\nsave_png(\"2dim_h-refinement.png\", M_h) # save image","category":"page"},{"location":"","page":"Home","title":"Home","text":"(Image: )","category":"page"},{"location":"","page":"Home","title":"Home","text":"Note that this shape and the last shape are identical.","category":"page"},{"location":"#p-refinemnet","page":"Home","title":"p-refinemnet","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"pâ‚Š=(1,2) # additional degrees\nM_p = refinement(M,pâ‚Š=pâ‚Š) # refinement of B-spline manifold\nsave_png(\"2dim_p-refinement.png\", M_p) # save image","category":"page"},{"location":"","page":"Home","title":"Home","text":"(Image: )","category":"page"},{"location":"","page":"Home","title":"Home","text":"Note that this shape and the last shape are identical.","category":"page"},{"location":"#Fitting-B-spline-manifold","page":"Home","title":"Fitting B-spline manifold","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Try on Desmos graphing graphing calculator!","category":"page"},{"location":"","page":"Home","title":"Home","text":"p1 = 2\np2 = 2\nk1 = KnotVector(-10:10)+p1*KnotVector(-10,10)\nk2 = KnotVector(-10:10)+p2*KnotVector(-10,10)\nP1 = BSplineSpace{p1}(k1)\nP2 = BSplineSpace{p2}(k2)\n\nf(u1, u2) = [2u1 + sin(u1) + cos(u2) + u2 / 2, 3u2 + sin(u2) + sin(u1) / 2 + u1^2 / 6] / 5\n\na0 = fittingcontrolpoints(f, (P1, P2))\na = [a0[i1,i2][j] for i1 in 1:dim(P1), i2 in 1:dim(P2), j in 1:2]\nM = BSplineManifold(a, (P1, P2))\nsave_png(\"fitting.png\", M, unitlength=50, xlims=(-10,10), ylims=(-10,10))","category":"page"},{"location":"","page":"Home","title":"Home","text":"(Image: ) (Image: )","category":"page"},{"location":"","page":"Home","title":"Home","text":"If the knotvector span is too coarse, the approximation will be coarse.","category":"page"},{"location":"","page":"Home","title":"Home","text":"p1 = 2\np2 = 2\nk1 = KnotVector(-10:5:10)+p1*KnotVector(-10,10)\nk2 = KnotVector(-10:5:10)+p2*KnotVector(-10,10)\nP1 = BSplineSpace{p1}(k1)\nP2 = BSplineSpace{p2}(k2)\n\nf(u1, u2) = [2u1 + sin(u1) + cos(u2) + u2 / 2, 3u2 + sin(u2) + sin(u1) / 2 + u1^2 / 6] / 5\n\na0 = fittingcontrolpoints(f, (P1, P2))\na = [a0[i1,i2][j] for i1 in 1:dim(P1), i2 in 1:dim(P2), j in 1:2]\nM = BSplineManifold(a, (P1, P2))\nsave_png(\"fitting_coarse.png\", M, unitlength=50, xlims=(-10,10), ylims=(-10,10))","category":"page"},{"location":"","page":"Home","title":"Home","text":"(Image: )","category":"page"},{"location":"#Draw-smooth-vector-graphics","page":"Home","title":"Draw smooth vector graphics","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"p = 3\nk = KnotVector(range(-2Ï€,2Ï€,length=8))+p*KnotVector(-2Ï€,2Ï€)\nP = BSplineSpace{p}(k)\n\nf(u) = [u,sin(u)]\n\na0 = fittingcontrolpoints(f, (P,))\na = [a0[i1][j] for i1 in 1:dim(P), j in 1:2]\nM = BSplineManifold(a, (P,))\nsave_svg(\"sine-curve.svg\", M, unitlength=50, xlims=(-2,2), ylims=(-8,8))\nsave_svg(\"sine-curve_no-points.svg\", M, unitlength=50, xlims=(-2,2), ylims=(-8,8), points=false)","category":"page"},{"location":"","page":"Home","title":"Home","text":"(Image: ) (Image: )","category":"page"},{"location":"","page":"Home","title":"Home","text":"This is useful when you edit graphs (or curves) with your favorite vector graphics editor.","category":"page"},{"location":"","page":"Home","title":"Home","text":"(Image: )","category":"page"},{"location":"#References","page":"Home","title":"References","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"If you use BasicBSpline.jl in your work, please consider citing it by","category":"page"},{"location":"","page":"Home","title":"Home","text":"@misc{hyrodium:2020:BasicBSpline,\n  title={BasicBSpline.jl: Basic operations for B-spline functions and related things with julia},\n  author={Yuto Horikawa},\n  year={2020},\n  howpublished={\\url{https://hyrodium.github.io/BasicBSpline.jl/stable/}},\n  doi={10.5281/zenodo.4356869}\n}","category":"page"}]
}
